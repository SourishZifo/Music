/** @license


 SoundManager 2: JavaScript Sound for the Web
 ----------------------------------------------
 http://schillmania.com/projects/soundmanager2/

 Copyright (c) 2007, Scott Schiller. All rights reserved.
 Code provided under the BSD License:
 http://schillmania.com/projects/soundmanager2/license.txt

 V2.97a.20170601
*/
!function(e,t){"use strict";if(!e||!e.document)throw new Error("SoundManager requires a browser with window and document objects.");var o=null;function n(o,n){this.setupOptions={url:o||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=n||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var i,a,s,r,l,u,d,f,c,h,p,m,_,g,y,w,v,b,O,D,M,L,T,P,S,F,I,H,A,E,R,k,C,x,N,U,B,W,j,q,V,Q,K,$,G,J,X,z,Z,Y,ee,te,oe,ne,ie,ae,se,re,le,ue,de,fe,ce,he,pe,me=this,_e=null,ge=null,ye="soundManager",we=ye+": ",ve="HTML5::",be=navigator.userAgent,Oe=e.location.href.toString(),De=document,Me=[],Le=!0,Te=!1,Pe=!1,Se=!1,Fe=!1,Ie=!1,He=0,Ae=["log","info","warn","error"],Ee=null,Re=null,ke=!1,Ce=!1,xe=0,Ne=null,Ue=[],Be=null,We=Array.prototype.slice,je=!1,qe=0,Ve=1e3,Qe=be.match(/(ipad|iphone|ipod)/i),Ke=be.match(/android/i),$e=be.match(/msie|trident/i),Ge=be.match(/webkit/i),Je=be.match(/safari/i)&&!be.match(/chrome/i),Xe=be.match(/opera/i),ze=be.match(/(mobile|pre\/|xoom)/i)||Qe||Ke,Ze=!Oe.match(/usehtml5audio/i)&&!Oe.match(/sm2-ignorebadua/i)&&Je&&!be.match(/silk/i)&&be.match(/OS\sX\s10_6_([3-7])/i),Ye=e.console!==t&&console.log!==t,et=De.hasFocus!==t?De.hasFocus():null,tt=Je&&(De.hasFocus===t||!De.hasFocus()),ot=!tt,nt=/(mp3|mp4|mpa|m4a|m4b)/i,it="about:blank",at=De.location?De.location.protocol.match(/http/i):null,st=at?"":"//",rt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,lt=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],ut=new RegExp("\\.("+lt.join("|")+")(\\?.*)?$","i");function dt(e){return me.preferFlash&&re&&!me.ignoreFlash&&me.flash[e]!==t&&me.flash[e]}function ft(e){return function(t){var o,n=this._s;return n&&n._a?o=e.call(this,t):(n&&n.id?me._wD(n.id+": Ignoring "+t.type):me._wD(ve+"Ignoring "+t.type),o=null),o}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!at,B={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},ee=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==t&&(Xe&&opera!==t&&opera.version()<10?new Audio(null):new Audio).canPlayType!==t}catch(e){return!1}}(),this.setup=function(e){var o=!me.url;return e!==t&&Se&&Be&&me.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t)&&V(x("setupLate")),p(e),je||(ze?me.setupOptions.ignoreMobileRestrictions&&!me.setupOptions.forceUseGlobalHTML5Audio||(Ue.push(M.globalHTML5),je=!0):me.setupOptions.forceUseGlobalHTML5Audio&&(Ue.push(M.globalHTML5),je=!0)),!pe&&ze&&(me.setupOptions.ignoreMobileRestrictions?Ue.push(M.ignoreMobile):(me.setupOptions.useHTML5Audio&&!me.setupOptions.preferFlash||me._wD(M.mobileUA),me.setupOptions.useHTML5Audio=!0,me.setupOptions.preferFlash=!1,Qe?me.ignoreFlash=!0:(Ke&&!be.match(/android\s2\.3/i)||!Ke)&&(me._wD(M.globalHTML5),je=!0))),e&&(o&&S&&e.url!==t&&me.beginDelayedInit(),S||e.url===t||"complete"!==De.readyState||setTimeout(T,1)),pe=!0,me},this.ok=function(){return Be?Se&&!Fe:me.useHTML5Audio&&me.hasHTML5},this.supported=this.ok,this.getMovie=function(t){return a(t)||De[t]||e[t]},this.createSound=function(e,o){var n,a,s,r=null;if(a=(n=ye+".createSound(): ")+x(Se?"notOK":"notReady"),!Se||!me.ok())return V(a),!1;if(o!==t&&(e={id:e,url:o}),(s=h(e)).url=J(s.url),s.id===t&&(s.id=me.setupOptions.idPrefix+qe++),s.id.toString().charAt(0).match(/^[0-9]$/)&&me._wD(n+x("badID",s.id),2),me._wD(n+s.id+(s.url?" ("+s.url+")":""),1),Q(s.id,!0))return me._wD(n+s.id+" exists",1),me.sounds[s.id];function l(){return s=j(s),me.sounds[s.id]=new i(s),me.soundIDs.push(s.id),me.sounds[s.id]}if(Z(s))r=l(),me.html5Only||me._wD(s.id+": Using HTML5"),r._setup_html5(s);else{if(me.html5Only)return me._wD(s.id+": No HTML5 support for this sound, and no Flash. Exiting."),l();if(me.html5.usingFlash&&s.url&&s.url.match(/data:/i))return me._wD(s.id+": data: URIs not supported via Flash. Exiting."),l();u>8&&(null===s.isMovieStar&&(s.isMovieStar=!!(s.serverURL||s.type&&s.type.match(rt)||s.url&&s.url.match(ut))),s.isMovieStar&&(me._wD(n+"using MovieStar handling"),s.loops>1&&f("noNSLoop"))),s=q(s,n),r=l(),8===u?ge._createSound(s.id,s.loops||1,s.usePolicyFile):(ge._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,!!s.isMovieStar&&s.bufferTime,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),s.serverURL||(r.connected=!0,s.onconnect&&s.onconnect.apply(r))),s.serverURL||!s.autoLoad&&!s.autoPlay||r.load(s)}return!s.serverURL&&s.autoPlay&&r.play(),r},this.destroySound=function(e,t){if(!Q(e))return!1;var o,n=me.sounds[e];for(n.stop(),n._iO={},n.unload(),o=0;o<me.soundIDs.length;o++)if(me.soundIDs[o]===e){me.soundIDs.splice(o,1);break}return t||n.destruct(!0),n=null,delete me.sounds[e],!0},this.load=function(e,t){return!!Q(e)&&me.sounds[e].load(t)},this.unload=function(e){return!!Q(e)&&me.sounds[e].unload()},this.onPosition=function(e,t,o,n){return!!Q(e)&&me.sounds[e].onposition(t,o,n)},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,o){return!!Q(e)&&me.sounds[e].clearOnPosition(t,o)},this.play=function(e,t){var o=null,n=t&&!(t instanceof Object);if(!Se||!me.ok())return V(ye+".play(): "+x(Se?"notOK":"notReady")),!1;if(Q(e,n))n&&(t={url:t});else{if(!n)return!1;n&&(t={url:t}),t&&t.url&&(me._wD(ye+'.play(): Attempting to create "'+e+'"',1),t.id=e,o=me.createSound(t).play())}return null===o&&(o=me.sounds[e].play(t)),o},this.start=this.play,this.setPlaybackRate=function(e,t,o){return!!Q(e)&&me.sounds[e].setPlaybackRate(t,o)},this.setPosition=function(e,t){return!!Q(e)&&me.sounds[e].setPosition(t)},this.stop=function(e){return!!Q(e)&&(me._wD(ye+".stop("+e+")",1),me.sounds[e].stop())},this.stopAll=function(){var e;me._wD(ye+".stopAll()",1);for(e in me.sounds)me.sounds.hasOwnProperty(e)&&me.sounds[e].stop()},this.pause=function(e){return!!Q(e)&&me.sounds[e].pause()},this.pauseAll=function(){var e;for(e=me.soundIDs.length-1;e>=0;e--)me.sounds[me.soundIDs[e]].pause()},this.resume=function(e){return!!Q(e)&&me.sounds[e].resume()},this.resumeAll=function(){var e;for(e=me.soundIDs.length-1;e>=0;e--)me.sounds[me.soundIDs[e]].resume()},this.togglePause=function(e){return!!Q(e)&&me.sounds[e].togglePause()},this.setPan=function(e,t){return!!Q(e)&&me.sounds[e].setPan(t)},this.setVolume=function(e,o){var n,i;if(e!==t&&!isNaN(e)&&o===t){for(n=0,i=me.soundIDs.length;n<i;n++)me.sounds[me.soundIDs[n]].setVolume(e);return!1}return!!Q(e)&&me.sounds[e].setVolume(o)},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return!!Q(e)&&(me._wD(ye+'.mute(): Muting "'+e+'"'),me.sounds[e].mute());for(me._wD(ye+".mute(): Muting all sounds"),t=me.soundIDs.length-1;t>=0;t--)me.sounds[me.soundIDs[t]].mute();return me.muted=!0,!0},this.muteAll=function(){me.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return!!Q(e)&&(me._wD(ye+'.unmute(): Unmuting "'+e+'"'),me.sounds[e].unmute());for(me._wD(ye+".unmute(): Unmuting all sounds"),t=me.soundIDs.length-1;t>=0;t--)me.sounds[me.soundIDs[t]].unmute();return me.muted=!1,!0},this.unmuteAll=function(){me.unmute()},this.toggleMute=function(e){return!!Q(e)&&me.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return ge&&8!==u&&(e=parseInt(ge._getMemoryUse(),10)),e},this.disable=function(o){var n;if(o===t&&(o=!1),Fe)return!1;for(Fe=!0,f("shutdown",1),n=me.soundIDs.length-1;n>=0;n--)R(me.sounds[me.soundIDs[n]]);return R(me),c(o),ae.remove(e,"load",y),!0},this.canPlayMIME=function(e){var t;return me.hasHTML5&&(t=Y({type:e})),!t&&Be&&(t=e&&me.ok()?!!(u>8&&e.match(rt)||e.match(me.mimePattern)):null),t},this.canPlayURL=function(e){var t;return me.hasHTML5&&(t=Y({url:e})),!t&&Be&&(t=e&&me.ok()?!!e.match(me.filePattern):null),t},this.canPlayLink=function(e){return!(e.type===t||!e.type||!me.canPlayMIME(e.type))||me.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var o=me.sounds[e];return o||t||me._wD(ye+'.getSoundById(): Sound "'+e+'" not found.',2),o},this.onready=function(t,o){var n="onready";if("function"!=typeof t)throw x("needFunction",n);return Se&&me._wD(x("queue",n)),o||(o=e),_(n,t,o),g(),!0},this.ontimeout=function(t,o){var n="ontimeout";if("function"!=typeof t)throw x("needFunction",n);return Se&&me._wD(x("queue",n)),o||(o=e),_(n,t,o),g({type:n}),!0},this._writeDebug=function(e,o){var n,i;return!!me.setupOptions.debugMode&&(!!(Ye&&me.useConsole&&(o&&"object"==typeof o?console.log(e,o):Ae[o]!==t?console[Ae[o]](e):console.log(e),me.consoleOnly))||!!(n=a("soundmanager-debug"))&&(i=De.createElement("div"),++He%2==0&&(i.className="sm2-alt"),o=o===t?0:parseInt(o,10),i.appendChild(De.createTextNode(e)),o&&(o>=2&&(i.style.fontWeight="bold"),3===o&&(i.style.color="#ff3333")),n.insertBefore(i,n.firstChild),n=null,!0))},-1!==Oe.indexOf("sm2-debug=alert")&&(this._writeDebug=function(t){e.alert(t)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(f("currentObj",1),e=0,t=me.soundIDs.length;e<t;e++)me.sounds[me.soundIDs[e]]._debug()},this.reboot=function(t,o){var n,i,a;for(me.soundIDs.length&&me._wD("Destroying "+me.soundIDs.length+" SMSound object"+(1!==me.soundIDs.length?"s":"")+"..."),n=me.soundIDs.length-1;n>=0;n--)me.sounds[me.soundIDs[n]].destruct();if(ge)try{$e&&(Re=ge.innerHTML),Ee=ge.parentNode.removeChild(ge)}catch(e){f("badRemove",2)}if(Re=Ee=Be=ge=null,me.enabled=S=Se=ke=Ce=Te=Pe=Fe=je=me.swfLoaded=!1,me.soundIDs=[],me.sounds={},qe=0,pe=!1,t)Me=[];else for(n in Me)if(Me.hasOwnProperty(n))for(i=0,a=Me[n].length;i<a;i++)Me[n][i].fired=!1;return o||me._wD(ye+": Rebooting..."),me.html5={usingFlash:null},me.flash={},me.html5Only=!1,me.ignoreFlash=!1,e.setTimeout(function(){o||me.beginDelayedInit()},20),me},this.reset=function(){return f("reset"),me.reboot(!0,!0)},this.getMoviePercent=function(){return ge&&"PercentLoaded"in ge?ge.PercentLoaded():null},this.beginDelayedInit=function(){Ie=!0,T(),setTimeout(function(){return!Ce&&(I(),L(),Ce=!0,!0)},20),w()},this.destruct=function(){me._wD(ye+".destruct()"),me.disable(!0)},i=function(e){var o,n,i,a,s,r,l,c,p,m,_=this,g=!1,y=[],w=0,v=null;p={duration:null,time:null},this.id=e.id,this.sID=this.id,this.url=e.url,this.options=h(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,m=!this.url,this.id3={},this._debug=function(){me._wD(_.id+": Merged options:",_.options)},this.load=function(e){var o;if(e!==t?_._iO=h(e,_.options):(e=_.options,_._iO=e,v&&v!==_.url&&(f("manURL"),_._iO.url=_.url,_.url=null)),_._iO.url||(_._iO.url=_.url),_._iO.url=J(_._iO.url),_.instanceOptions=_._iO,o=_._iO,me._wD(_.id+": load ("+o.url+")"),!o.url&&!_.url)return me._wD(_.id+": load(): url is unassigned. Exiting.",2),_;if(_.isHTML5||8!==u||_.url||o.autoPlay||me._wD(_.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),o.url===_.url&&0!==_.readyState&&2!==_.readyState)return f("onURL",1),3===_.readyState&&o.onload&&he(_,function(){o.onload.apply(_,[!!_.duration])}),_;if(_.loaded=!1,_.readyState=1,_.playState=0,_.id3={},Z(o))_._setup_html5(o)._called_load?me._wD(_.id+": Ignoring request to load again"):(_._html5_canplay=!1,_.url!==o.url&&(me._wD(f("manURL")+": "+o.url),_._a.src=o.url,_.setPosition(0)),_._a.autobuffer="auto",_._a.preload="auto",_._a._called_load=!0);else{if(me.html5Only)return me._wD(_.id+": No flash support. Exiting."),_;if(_._iO.url&&_._iO.url.match(/data:/i))return me._wD(_.id+": data: URIs not supported via Flash. Exiting."),_;try{_.isHTML5=!1,_._iO=q(j(o)),_._iO.autoPlay&&(_._iO.position||_._iO.from)&&(me._wD(_.id+": Disabling autoPlay because of non-zero offset case"),_._iO.autoPlay=!1),o=_._iO,8===u?ge._load(_.id,o.url,o.stream,o.autoPlay,o.usePolicyFile):ge._load(_.id,o.url,!!o.stream,!!o.autoPlay,o.loops||1,!!o.autoLoad,o.usePolicyFile)}catch(e){f("smError",2),d("onload",!1),H({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return _.url=o.url,_},this.unload=function(){return 0!==_.readyState&&(me._wD(_.id+": unload()"),_.isHTML5?(a(),_._a&&(_._a.pause(),v=oe(_._a))):8===u?ge._unload(_.id,it):ge._unload(_.id),o()),_},this.destruct=function(e){me._wD(_.id+": Destruct"),_.isHTML5?(a(),_._a&&(_._a.pause(),oe(_._a),je||i(),_._a._s=null,_._a=null)):(_._iO.onfailure=null,ge._destroySound(_.id)),e||me.destroySound(_.id,!0)},this.play=function(e,o){var n,i,a,l,d,f,p=!0;if(n=_.id+": play(): ",o=o===t||o,e||(e={}),_.url&&(_._iO.url=_.url),_._iO=h(_._iO,_.options),_._iO=h(e,_._iO),_._iO.url=J(_._iO.url),_.instanceOptions=_._iO,!_.isHTML5&&_._iO.serverURL&&!_.connected)return _.getAutoPlay()||(me._wD(n+" Netstream not connected yet - setting autoPlay"),_.setAutoPlay(!0)),_;if(Z(_._iO)&&(_._setup_html5(_._iO),s()),1===_.playState&&!_.paused){if(!_._iO.multiShot)return me._wD(n+"Already playing (one-shot)",1),_.isHTML5&&_.setPosition(_._iO.position),_;me._wD(n+"Already playing (multi-shot)",1)}if(e.url&&e.url!==_.url&&(_.readyState||_.isHTML5||8!==u||!m?_.load(_._iO):m=!1),_.loaded)me._wD(n.substr(0,n.lastIndexOf(":")));else if(0===_.readyState){if(me._wD(n+"Attempting to load"),_.isHTML5||me.html5Only){if(!_.isHTML5)return me._wD(n+"Unsupported type. Exiting."),_;_.load(_._iO)}else _._iO.autoPlay=!0,_.load(_._iO);_.instanceOptions=_._iO}else{if(2===_.readyState)return me._wD(n+"Could not load - exiting",2),_;me._wD(n+"Loading - attempting to play...")}return!_.isHTML5&&9===u&&_.position>0&&_.position===_.duration&&(me._wD(n+"Sound at end, resetting to position: 0"),e.position=0),_.paused&&_.position>=0&&(!_._iO.serverURL||_.position>0)?(me._wD(n+"Resuming from paused state",1),_.resume()):(_._iO=h(e,_._iO),(!_.isHTML5&&null!==_._iO.position&&_._iO.position>0||null!==_._iO.from&&_._iO.from>0||null!==_._iO.to)&&0===_.instanceCount&&0===_.playState&&!_._iO.serverURL&&(a=function(){_._iO=h(e,_._iO),_.play(_._iO)},_.isHTML5&&!_._html5_canplay?(me._wD(n+"Beginning load for non-zero offset case"),_.load({_oncanplay:a})):_.isHTML5||_.loaded||_.readyState&&2===_.readyState||(me._wD(n+"Preloading for non-zero offset case"),_.load({onload:a})),_._iO=c()),(!_.instanceCount||_._iO.multiShotEvents||_.isHTML5&&_._iO.multiShot&&!je||!_.isHTML5&&u>8&&!_.getAutoPlay())&&_.instanceCount++,_._iO.onposition&&0===_.playState&&r(_),_.playState=1,_.paused=!1,_.position=_._iO.position===t||isNaN(_._iO.position)?0:_._iO.position,_.isHTML5||(_._iO=q(j(_._iO))),_._iO.onplay&&o&&(_._iO.onplay.apply(_),g=!0),_.setVolume(_._iO.volume,!0),_.setPan(_._iO.pan,!0),1!==_._iO.playbackRate&&_.setPlaybackRate(_._iO.playbackRate),_.isHTML5?_.instanceCount<2?(s(),i=_._setup_html5(),_.setPosition(_._iO.position),i.play()):(me._wD(_.id+": Cloning Audio() for instance #"+_.instanceCount+"..."),l=new Audio(_._iO.url),d=function(){ae.remove(l,"ended",d),_._onfinish(_),oe(l),l=null},f=function(){ae.remove(l,"canplay",f);try{l.currentTime=_._iO.position/Ve}catch(e){V(_.id+": multiShot play() failed to apply position of "+_._iO.position/Ve)}l.play()},ae.add(l,"ended",d),_._iO.volume!==t&&(l.volume=Math.max(0,Math.min(1,_._iO.volume/100))),_.muted&&(l.muted=!0),_._iO.position?ae.add(l,"canplay",f):l.play()):(p=ge._start(_.id,_._iO.loops||1,9===u?_.position:_.position/Ve,_._iO.multiShot||!1),9!==u||p||(me._wD(n+"No sound hardware, or 32-sound ceiling hit",2),_._iO.onplayerror&&_._iO.onplayerror.apply(_)))),_},this.start=this.play,this.stop=function(e){var t,o=_._iO;return 1===_.playState&&(me._wD(_.id+": stop()"),_._onbufferchange(0),_._resetOnPosition(0),_.paused=!1,_.isHTML5||(_.playState=0),l(),o.to&&_.clearOnPosition(o.to),_.isHTML5?_._a&&(t=_.position,_.setPosition(0),_.position=t,_._a.pause(),_.playState=0,_._onTimer(),a()):(ge._stop(_.id,e),o.serverURL&&_.unload()),_.instanceCount=0,_._iO={},o.onstop&&o.onstop.apply(_)),_},this.setAutoPlay=function(e){me._wD(_.id+": Autoplay turned "+(e?"on":"off")),_._iO.autoPlay=e,_.isHTML5||(ge._setAutoPlay(_.id,e),e&&(_.instanceCount||1!==_.readyState||(_.instanceCount++,me._wD(_.id+": Incremented instance count to "+_.instanceCount))))},this.getAutoPlay=function(){return _._iO.autoPlay},this.setPlaybackRate=function(e){var t=Math.max(.5,Math.min(4,e));if(t!==e&&me._wD(_.id+": setPlaybackRate("+e+"): limiting rate to "+t,2),_.isHTML5)try{_._iO.defaultPlaybackRate=t,_._a.defaultPlaybackRate=t,_._iO.playbackRate=t,_._a.playbackRate=t}catch(e){me._wD(_.id+": setPlaybackRate("+t+") failed: "+e.message,2)}return _},this.setPosition=function(e){e===t&&(e=0);var o,n,i=_.isHTML5?Math.max(e,0):Math.min(_.duration||_._iO.duration,Math.max(e,0));if(_.position=i,n=_.position/Ve,_._resetOnPosition(_.position),_._iO.position=i,_.isHTML5){if(_._a){if(_._html5_canplay){if(_._a.currentTime.toFixed(3)!==n.toFixed(3)){me._wD(_.id+": setPosition("+n+")");try{_._a.currentTime=n,(0===_.playState||_.paused)&&_._a.pause()}catch(e){me._wD(_.id+": setPosition("+n+") failed: "+e.message,2)}}}else if(n)return me._wD(_.id+": setPosition("+n+"): Cannot seek yet, sound not ready",2),_;_.paused&&_._onTimer(!0)}}else o=9===u?_.position:n,_.readyState&&2!==_.readyState&&ge._setPosition(_.id,o,_.paused||!_.playState,_._iO.multiShot);return _},this.pause=function(e){return _.paused||0===_.playState&&1!==_.readyState?_:(me._wD(_.id+": pause()"),_.paused=!0,_.isHTML5?(_._setup_html5().pause(),a()):(e||e===t)&&ge._pause(_.id,_._iO.multiShot),_._iO.onpause&&_._iO.onpause.apply(_),_)},this.resume=function(){var e=_._iO;return _.paused?(me._wD(_.id+": resume()"),_.paused=!1,_.playState=1,_.isHTML5?(_._setup_html5().play(),s()):(e.isMovieStar&&!e.serverURL&&_.setPosition(_.position),ge._pause(_.id,e.multiShot)),!g&&e.onplay?(e.onplay.apply(_),g=!0):e.onresume&&e.onresume.apply(_),_):_},this.togglePause=function(){return me._wD(_.id+": togglePause()"),0===_.playState?(_.play({position:9!==u||_.isHTML5?_.position/Ve:_.position}),_):(_.paused?_.resume():_.pause(),_)},this.setPan=function(e,o){return e===t&&(e=0),o===t&&(o=!1),_.isHTML5||ge._setPan(_.id,e),_._iO.pan=e,o||(_.pan=e,_.options.pan=e),_},this.setVolume=function(e,o){return e===t&&(e=100),o===t&&(o=!1),_.isHTML5?_._a&&(me.muted&&!_.muted&&(_.muted=!0,_._a.muted=!0),_._a.volume=Math.max(0,Math.min(1,e/100))):ge._setVolume(_.id,me.muted&&!_.muted||_.muted?0:e),_._iO.volume=e,o||(_.volume=e,_.options.volume=e),_},this.mute=function(){return _.muted=!0,_.isHTML5?_._a&&(_._a.muted=!0):ge._setVolume(_.id,0),_},this.unmute=function(){_.muted=!1;var e=_._iO.volume!==t;return _.isHTML5?_._a&&(_._a.muted=!1):ge._setVolume(_.id,e?_._iO.volume:_.options.volume),_},this.toggleMute=function(){return _.muted?_.unmute():_.mute()},this.onPosition=function(e,o,n){return y.push({position:parseInt(e,10),method:o,scope:n!==t?n:_,fired:!1}),_},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var o;if(e=parseInt(e,10),!isNaN(e))for(o=0;o<y.length;o++)e===y[o].position&&(t&&t!==y[o].method||(y[o].fired&&w--,y.splice(o,1)))},this._processOnPosition=function(){var e,t,o=y.length;if(!o||!_.playState||w>=o)return!1;for(e=o-1;e>=0;e--)!(t=y[e]).fired&&_.position>=t.position&&(t.fired=!0,w++,t.method.apply(t.scope,[t.position]),o=y.length);return!0},this._resetOnPosition=function(e){var t,o,n=y.length;if(!n)return!1;for(t=n-1;t>=0;t--)(o=y[t]).fired&&e<=o.position&&(o.fired=!1,w--);return!0},c=function(){var e,t,o=_._iO,n=o.from,i=o.to;return t=function(){me._wD(_.id+': "To" time of '+i+" reached."),_.clearOnPosition(i,t),_.stop()},e=function(){me._wD(_.id+': Playing "from" '+n),null===i||isNaN(i)||_.onPosition(i,t)},null===n||isNaN(n)||(o.position=n,o.multiShot=!1,e()),o},r=function(){var e,t=_._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&_.onPosition(parseInt(e,10),t[e])},l=function(){var e,t=_._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&_.clearOnPosition(parseInt(e,10))},s=function(){_.isHTML5&&K(_)},a=function(){_.isHTML5&&$(_)},(o=function(e){e||(y=[],w=0),g=!1,_._hasTimer=null,_._a=null,_._html5_canplay=!1,_.bytesLoaded=null,_.bytesTotal=null,_.duration=_._iO&&_._iO.duration?_._iO.duration:null,_.durationEstimate=null,_.buffered=[],_.eqData=[],_.eqData.left=[],_.eqData.right=[],_.failures=0,_.isBuffering=!1,_.instanceOptions={},_.instanceCount=0,_.loaded=!1,_.metadata={},_.readyState=0,_.muted=!1,_.paused=!1,_.peakData={left:0,right:0},_.waveformData={left:[],right:[]},_.playState=0,_.position=null,_.id3={}})(),this._onTimer=function(e){var t,o,n=!1,i={};return(_._hasTimer||e)&&_._a&&(e||(_.playState>0||1===_.readyState)&&!_.paused)&&((t=_._get_html5_duration())!==p.duration&&(p.duration=t,_.duration=t,n=!0),_.durationEstimate=_.duration,(o=_._a.currentTime*Ve||0)!==p.time&&(p.time=o,n=!0),(n||e)&&_._whileplaying(o,i,i,i,i)),n},this._get_html5_duration=function(){var e=_._iO,t=_._a&&_._a.duration?_._a.duration*Ve:e&&e.duration?e.duration:null;return t&&!isNaN(t)&&t!==1/0?t:null},this._apply_loop=function(e,t){!e.loop&&t>1&&me._wD("Note: Native HTML5 looping is infinite.",1),e.loop=t>1?"loop":""},this._setup_html5=function(e){var t,i=h(_._iO,e),a=je?_e:_._a,s=decodeURI(i.url);if(je?s===decodeURI(se)&&(t=!0):s===decodeURI(v)&&(t=!0),a){if(a._s)if(je)a._s&&a._s.playState&&!t&&a._s.stop();else if(!je&&s===decodeURI(v))return _._apply_loop(a,i.loops),a;t||(v&&o(!1),a.src=i.url,_.url=i.url,v=i.url,se=i.url,a._called_load=!1)}else i.autoLoad||i.autoPlay?(_._a=new Audio(i.url),_._a.load()):_._a=Xe&&opera.version()<10?new Audio(null):new Audio,(a=_._a)._called_load=!1,je&&(_e=a);return _.isHTML5=!0,_._a=a,a._s=_,n(),_._apply_loop(a,i.loops),i.autoLoad||i.autoPlay?_.load():(a.autobuffer=!1,a.preload="auto"),a},n=function(){if(_._a._added_events)return!1;var e,t,o,n;_._a._added_events=!0;for(e in de)de.hasOwnProperty(e)&&(t=e,o=de[e],n=void 0,_._a&&_._a.addEventListener(t,o,n||!1));return!0},i=function(){var e,t,o,n;me._wD(_.id+": Removing event listeners"),_._a._added_events=!1;for(e in de)de.hasOwnProperty(e)&&(t=e,o=de[e],n=void 0,_._a&&_._a.removeEventListener(t,o,n||!1))},this._onload=function(e){var t,o=!!e||!_.isHTML5&&8===u&&_.duration;return t=_.id+": ",me._wD(t+(o?"onload()":"Failed to load / invalid sound?"+(_.duration?" -":" Zero-length duration reported.")+" ("+_.url+")"),o?1:2),o||_.isHTML5||(!0===me.sandbox.noRemote&&me._wD(t+x("noNet"),1),!0===me.sandbox.noLocal&&me._wD(t+x("noLocal"),1)),_.loaded=o,_.readyState=o?3:2,_._onbufferchange(0),o||_.isHTML5||_._onerror(),_._iO.onload&&he(_,function(){_._iO.onload.apply(_,[o])}),!0},this._onerror=function(e,t){_._iO.onerror&&he(_,function(){_._iO.onerror.apply(_,[e,t])})},this._onbufferchange=function(e){return 0!==_.playState&&(!(e&&_.isBuffering||!e&&!_.isBuffering)&&(_.isBuffering=1===e,_._iO.onbufferchange&&(me._wD(_.id+": Buffer state change: "+e),_._iO.onbufferchange.apply(_,[e])),!0))},this._onsuspend=function(){return _._iO.onsuspend&&(me._wD(_.id+": Playback suspended"),_._iO.onsuspend.apply(_)),!0},this._onfailure=function(e,t,o){_.failures++,me._wD(_.id+": Failure ("+_.failures+"): "+e),_._iO.onfailure&&1===_.failures?_._iO.onfailure(e,t,o):me._wD(_.id+": Ignoring failure")},this._onwarning=function(e,t,o){_._iO.onwarning&&_._iO.onwarning(e,t,o)},this._onfinish=function(){var e=_._iO.onfinish;_._onbufferchange(0),_._resetOnPosition(0),_.instanceCount&&(_.instanceCount--,_.instanceCount||(l(),_.playState=0,_.paused=!1,_.instanceCount=0,_.instanceOptions={},_._iO={},a(),_.isHTML5&&(_.position=0)),_.instanceCount&&!_._iO.multiShotEvents||e&&(me._wD(_.id+": onfinish()"),he(_,function(){e.apply(_)})))},this._whileloading=function(e,t,o,n){var i=_._iO;_.bytesLoaded=e,_.bytesTotal=t,_.duration=Math.floor(o),_.bufferLength=n,_.isHTML5||i.isMovieStar?_.durationEstimate=_.duration:i.duration?_.durationEstimate=_.duration>i.duration?_.duration:i.duration:_.durationEstimate=parseInt(_.bytesTotal/_.bytesLoaded*_.duration,10),_.isHTML5||(_.buffered=[{start:0,end:_.duration}]),(3!==_.readyState||_.isHTML5)&&i.whileloading&&i.whileloading.apply(_)},this._whileplaying=function(e,o,n,i,a){var s,r=_._iO;return!isNaN(e)&&null!==e&&(_.position=Math.max(0,e),_._processOnPosition(),!_.isHTML5&&u>8&&(r.usePeakData&&o!==t&&o&&(_.peakData={left:o.leftPeak,right:o.rightPeak}),r.useWaveformData&&n!==t&&n&&(_.waveformData={left:n.split(","),right:i.split(",")}),r.useEQData&&a!==t&&a&&a.leftEQ&&(s=a.leftEQ.split(","),_.eqData=s,_.eqData.left=s,a.rightEQ!==t&&a.rightEQ&&(_.eqData.right=a.rightEQ.split(",")))),1===_.playState&&(_.isHTML5||8!==u||_.position||!_.isBuffering||_._onbufferchange(0),r.whileplaying&&r.whileplaying.apply(_)),!0)},this._oncaptiondata=function(e){me._wD(_.id+": Caption data received."),_.captiondata=e,_._iO.oncaptiondata&&_._iO.oncaptiondata.apply(_,[e])},this._onmetadata=function(e,t){me._wD(_.id+": Metadata received.");var o,n,i={};for(o=0,n=e.length;o<n;o++)i[e[o]]=t[o];_.metadata=i,_._iO.onmetadata&&_._iO.onmetadata.call(_,_.metadata)},this._onid3=function(e,t){me._wD(_.id+": ID3 data received.");var o,n,i=[];for(o=0,n=e.length;o<n;o++)i[e[o]]=t[o];_.id3=h(_.id3,i),_._iO.onid3&&_._iO.onid3.apply(_)},this._onconnect=function(e){e=1===e,me._wD(_.id+": "+(e?"Connected.":"Failed to connect? - "+_.url),e?1:2),_.connected=e,e&&(_.failures=0,Q(_.id)&&(_.getAutoPlay()?_.play(t,_.getAutoPlay()):_._iO.autoLoad&&_.load()),_._iO.onconnect&&_._iO.onconnect.apply(_,[e]))},this._ondataerror=function(e){_.playState>0&&(me._wD(_.id+": Data error: "+e),_._iO.ondataerror&&_._iO.ondataerror.apply(_))},this._debug()},F=function(){return De.body||De.getElementsByTagName("div")[0]},a=function(e){return De.getElementById(e)},h=function(e,o){var n,i,a=e||{};n=o===t?me.defaultOptions:o;for(i in n)n.hasOwnProperty(i)&&a[i]===t&&("object"!=typeof n[i]||null===n[i]?a[i]=n[i]:a[i]=h(a[i],n[i]));return a},he=function(t,o){t.isHTML5||8!==u?o():e.setTimeout(o,0)},m={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},p=function(e,o){var n,i=!0,a=o!==t,s=me.setupOptions,r=m;if(e===t){i=[];for(n in s)s.hasOwnProperty(n)&&i.push(n);for(n in r)r.hasOwnProperty(n)&&("object"==typeof me[n]?i.push(n+": {...}"):me[n]instanceof Function?i.push(n+": function() {...}"):i.push(n));return me._wD(x("setup",i.join(", "))),!1}for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array||e[n]instanceof RegExp)a&&r[o]!==t?me[o][n]=e[n]:s[n]!==t?(me.setupOptions[n]=e[n],me[n]=e[n]):r[n]===t?(V(x(me[n]===t?"setupUndef":"setupError",n),2),i=!1):me[n]instanceof Function?me[n].apply(me,e[n]instanceof Array?e[n]:[e[n]]):me[n]=e[n];else{if(r[n]!==t)return p(e[n],n);V(x(me[n]===t?"setupUndef":"setupError",n),2),i=!1}return i},ae=function(){var t=e.attachEvent,o={add:t?"attachEvent":"addEventListener",remove:t?"detachEvent":"removeEventListener"};function n(e){var o=We.call(e),n=o.length;return t?(o[1]="on"+o[1],n>3&&o.pop()):3===n&&o.push(!1),o}function i(e,n){var i=e.shift(),a=[o[n]];t?i[a](e[0],e[1]):i[a].apply(i,e)}return{add:function(){i(n(arguments),"add")},remove:function(){i(n(arguments),"remove")}}}(),de={abort:ft(function(){me._wD(this._s.id+": abort")}),canplay:ft(function(){var e,o=this._s;if(!o._html5_canplay){if(o._html5_canplay=!0,me._wD(o.id+": canplay"),o._onbufferchange(0),e=o._iO.position===t||isNaN(o._iO.position)?null:o._iO.position/Ve,this.currentTime!==e){me._wD(o.id+": canplay: Setting position to "+e);try{this.currentTime=e}catch(t){me._wD(o.id+": canplay: Setting position of "+e+" failed: "+t.message,2)}}o._iO._oncanplay&&o._iO._oncanplay()}}),canplaythrough:ft(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:ft(function(){var e,t=this._s;e=t._get_html5_duration(),isNaN(e)||e===t.duration||(me._wD(this._s.id+": durationchange ("+e+")"+(t.duration?", previously "+t.duration:"")),t.durationEstimate=t.duration=e)}),ended:ft(function(){var e=this._s;me._wD(e.id+": ended"),e._onfinish()}),error:ft(function(){var e=ee[this.error.code]||null;me._wD(this._s.id+": HTML5 error, code "+this.error.code+(e?" ("+e+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,e)}),loadeddata:ft(function(){var e=this._s;me._wD(e.id+": loadeddata"),e._loaded||Je||(e.duration=e._get_html5_duration())}),loadedmetadata:ft(function(){me._wD(this._s.id+": loadedmetadata")}),loadstart:ft(function(){me._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:ft(function(){this._s._onbufferchange(0)}),playing:ft(function(){me._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)}),progress:ft(function(e){var t,o,n,i=this._s,a=0,s="progress"===e.type,r=e.target.buffered,l=e.loaded||0,u=e.total||1;if(i.buffered=[],r&&r.length){for(t=0,o=r.length;t<o;t++)i.buffered.push({start:r.start(t)*Ve,end:r.end(t)*Ve});if(a=(r.end(0)-r.start(0))*Ve,l=Math.min(1,a/(e.target.duration*Ve)),s&&r.length>1){for(n=[],o=r.length,t=0;t<o;t++)n.push(e.target.buffered.start(t)*Ve+"-"+e.target.buffered.end(t)*Ve);me._wD(this._s.id+": progress, timeRanges: "+n.join(", "))}s&&!isNaN(l)&&me._wD(this._s.id+": progress, "+Math.floor(100*l)+"% loaded")}isNaN(l)||(i._whileloading(l,u,i._get_html5_duration()),l&&u&&l===u&&de.canplaythrough.call(this,e))}),ratechange:ft(function(){me._wD(this._s.id+": ratechange")}),suspend:ft(function(e){var t=this._s;me._wD(this._s.id+": suspend"),de.progress.call(this,e),t._onsuspend()}),stalled:ft(function(){me._wD(this._s.id+": stalled")}),timeupdate:ft(function(){this._s._onTimer()}),waiting:ft(function(){var e=this._s;me._wD(this._s.id+": waiting"),e._onbufferchange(1)})},Z=function(e){return!(!e||!(e.type||e.url||e.serverURL))&&(!(e.serverURL||e.type&&dt(e.type))&&(e.type?Y({type:e.type}):Y({url:e.url})||me.html5Only||e.url.match(/data:/i)))},oe=function(e){var o;return e&&(o=Je?it:me.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":it,e.src=o,e._called_unload!==t&&(e._called_load=!1)),je&&(se=null),o},Y=function(e){if(!me.useHTML5Audio||!me.hasHTML5)return!1;var o,n,i,a,s=e.url||null,r=e.type||null,l=me.audioFormats;if(r&&me.html5[r]!==t)return me.html5[r]&&!dt(r);if(!te){te=[];for(a in l)l.hasOwnProperty(a)&&(te.push(a),l[a].related&&(te=te.concat(l[a].related)));te=new RegExp("\\.("+te.join("|")+")(\\?.*)?$","i")}return(i=s?s.toLowerCase().match(te):null)&&i.length?i=i[1]:r?i=(-1!==(n=r.indexOf(";"))?r.substr(0,n):r).substr(6):o=!1,i&&me.html5[i]!==t?o=me.html5[i]&&!dt(i):(r="audio/"+i,o=me.html5.canPlayType({type:r}),me.html5[i]=o,o=o&&me.html5[r]&&!dt(r)),o},ie=function(){if(!me.useHTML5Audio||!me.hasHTML5)return me.html5.usingFlash=!0,Be=!0,!1;var e,o,n,i,a=Audio!==t?Xe&&opera.version()<10?new Audio(null):new Audio:null,s={};function r(e){var t,o,n=!1,s=!1;if(!a||"function"!=typeof a.canPlayType)return n;if(e instanceof Array){for(i=0,o=e.length;i<o;i++)(me.html5[e[i]]||a.canPlayType(e[i]).match(me.html5Test))&&(s=!0,me.html5[e[i]]=!0,me.flash[e[i]]=!!e[i].match(nt));n=s}else n=!(!(t=!(!a||"function"!=typeof a.canPlayType)&&a.canPlayType(e))||!t.match(me.html5Test));return n}n=me.audioFormats;for(e in n)if(n.hasOwnProperty(e)&&(o="audio/"+e,s[e]=r(n[e].type),s[o]=s[e],e.match(nt)?(me.flash[e]=!0,me.flash[o]=!0):(me.flash[e]=!1,me.flash[o]=!1),n[e]&&n[e].related))for(i=n[e].related.length-1;i>=0;i--)s["audio/"+n[e].related[i]]=s[e],me.html5[n[e].related[i]]=s[e],me.flash[n[e].related[i]]=s[e];return s.canPlayType=a?r:null,me.html5=h(me.html5,s),me.html5.usingFlash=z(),Be=me.html5.usingFlash,!0},M={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:ye+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:we+"Verify that %s is a valid path.",tryDebug:"Try "+ye+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:we+"Non-HTTP page ("+De.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:we+"Special case: Waiting for SWF to load with window focus...",waitForever:we+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:we+"Waiting for 100% SWF load...",needFunction:we+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:we+"_debug(): Current sound objects",waitOnload:we+"Waiting for window.onload()",docLoaded:we+"Document already loaded",onload:we+"initComplete(): calling soundManager.onload()",onloadOK:ye+".onload() complete",didInit:we+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:we+"Failed to remove Flash node.",shutdown:ye+".disable(): Shutting down",queue:we+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+B.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:we+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:ye+".load(): current URL already assigned.",badFV:ye+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:we+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:we+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:ye+".setup(): allowed parameters: %s",setupError:ye+'.setup(): "%s" cannot be assigned with this method.',setupUndef:ye+'.setup(): Could not find option "%s"',setupLate:ye+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:we+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:ye+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},x=function(){var e,t,o,n,i;if(n=(e=We.call(arguments)).shift(),(i=M&&M[n]?M[n]:"")&&e&&e.length)for(t=0,o=e.length;t<o;t++)i=i.replace("%s",e[t]);return i},j=function(e){return 8===u&&e.loops>1&&e.stream&&(f("as2loop"),e.stream=!1),e},q=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(me._wD((t||"")+x("policy")),e.usePolicyFile=!0),e},V=function(e){Ye&&console.warn!==t?console.warn(e):me._wD(e)},s=function(){return!1},R=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=s);t=null},k=function(e){e===t&&(e=!1),(Fe||e)&&me.disable(e)},C=function(e){var t;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+me.movieURL,me.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},O=function(){8!==(u=parseInt(me.flashVersion,10))&&9!==u&&(me._wD(x("badFV",u,8)),me.flashVersion=u=8);var e=me.debugMode||me.debugFlash?"_debug.swf":".swf";me.useHTML5Audio&&!me.html5Only&&me.audioFormats.mp4.required&&u<9&&(me._wD(x("needfl9")),me.flashVersion=u=9),me.version=me.versionNumber+(me.html5Only?" (HTML5-only mode)":9===u?" (AS3/Flash 9)":" (AS2/Flash 8)"),u>8?(me.defaultOptions=h(me.defaultOptions,me.flash9Options),me.features.buffering=!0,me.defaultOptions=h(me.defaultOptions,me.movieStarOptions),me.filePatterns.flash9=new RegExp("\\.(mp3|"+lt.join("|")+")(\\?.*)?$","i"),me.features.movieStar=!0):me.features.movieStar=!1,me.filePattern=me.filePatterns[8!==u?"flash9":"flash8"],me.movieURL=(8===u?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),me.features.peakData=me.features.waveformData=me.features.eqData=u>8},A=function(e,t){ge&&ge._setPolling(e,t)},E=function(){if(me.debugURLParam.test(Oe)&&(me.setupOptions.debugMode=me.debugMode=!0),!a(me.debugID)){var e,t,o,n,i;if(me.debugMode&&!a(me.debugID)&&(!Ye||!me.useConsole||!me.consoleOnly)){(e=De.createElement("div")).id=me.debugID+"-toggle",n={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(De.createTextNode("-")),e.onclick=W,e.title="Toggle SM2 debug console",be.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand");for(i in n)n.hasOwnProperty(i)&&(e.style[i]=n[i]);if((t=De.createElement("div")).id=me.debugID,t.style.display=me.debugMode?"block":"none",me.debugMode&&!a(e.id)){try{(o=F()).appendChild(e)}catch(e){throw new Error(x("domError")+" \n"+e.toString())}o.appendChild(t)}}o=null}},Q=this.getSoundById,f=function(e,t){return e?me._wD(x(e),t):""},W=function(){var e=a(me.debugID),t=a(me.debugID+"-toggle");e&&(Le?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),Le=!Le)},d=function(o,n,i){if(e.sm2Debugger!==t)try{sm2Debugger.handleEvent(o,n,i)}catch(e){return!1}return!0},U=function(){var e=[];return me.debugMode&&e.push(B.sm2Debug),me.debugFlash&&e.push(B.flashDebug),me.useHighPerformance&&e.push(B.highPerf),e.join(" ")},N=function(){var e=x("fbHandler"),t=me.getMoviePercent(),o=B,n={type:"FLASHBLOCK"};me.html5Only||(me.ok()?(me.didFlashBlock&&me._wD(e+": Unblocked"),me.oMC&&(me.oMC.className=[U(),o.swfDefault,o.swfLoaded+(me.didFlashBlock?" "+o.swfUnblocked:"")].join(" "))):(Be&&(me.oMC.className=U()+" "+o.swfDefault+" "+(null===t?o.swfTimedout:o.swfError),me._wD(e+": "+x("fbTimeout")+(t?" ("+x("fbLoaded")+")":""))),me.didFlashBlock=!0,g({type:"ontimeout",ignoreInit:!0,error:n}),H(n)))},_=function(e,o,n){Me[e]===t&&(Me[e]=[]),Me[e].push({method:o,scope:n||null,fired:!1})},g=function(e){if(e||(e={type:me.ok()?"onready":"ontimeout"}),!Se&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(me.ok()||Fe&&!e.ignoreInit))return!1;var t,o,n={success:e&&e.ignoreInit?me.ok():!Fe},i=e&&e.type&&Me[e.type]||[],a=[],s=[n],r=Be&&!me.ok();for(e.error&&(s[0].error=e.error),t=0,o=i.length;t<o;t++)!0!==i[t].fired&&a.push(i[t]);if(a.length)for(t=0,o=a.length;t<o;t++)a[t].scope?a[t].method.apply(a[t].scope,s):a[t].method.apply(this,s),r||(a[t].fired=!0);return!0},y=function(){e.setTimeout(function(){me.useFlashBlock&&N(),g(),"function"==typeof me.onload&&(f("onload",1),me.onload.apply(e),f("onloadOK",1)),me.waitForWindowLoad&&ae.add(e,"load",y)},1)},le=function(){if(re!==t)return re;var o,n,i,a,s=!1,r=navigator,l=e.ActiveXObject;try{a=r.plugins}catch(e){a=void 0}if(a&&a.length)n="application/x-shockwave-flash",(i=r.mimeTypes)&&i[n]&&i[n].enabledPlugin&&i[n].enabledPlugin.description&&(s=!0);else if(l!==t&&!be.match(/MSAppHost/i)){try{o=new l("ShockwaveFlash.ShockwaveFlash")}catch(e){o=null}s=!!o,o=null}return re=s,s},z=function(){var e,t,o=me.audioFormats;if(Qe&&!!be.match(/os (1|2|3_0|3_1)\s/i)?(me.hasHTML5=!1,me.html5Only=!0,me.oMC&&(me.oMC.style.display="none")):me.useHTML5Audio&&(me.html5&&me.html5.canPlayType||(me._wD("SoundManager: No HTML5 Audio() support detected."),me.hasHTML5=!1),Ze&&me._wD(we+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(re?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),me.useHTML5Audio&&me.hasHTML5){X=!0;for(t in o)o.hasOwnProperty(t)&&o[t].required&&(me.html5.canPlayType(o[t].type)?me.preferFlash&&(me.flash[t]||me.flash[o[t].type])&&(e=!0):(X=!1,e=!0))}return me.ignoreFlash&&(e=!1,X=!0),me.html5Only=me.hasHTML5&&me.useHTML5Audio&&!e,!me.html5Only},J=function(e){var t,o,n,i=0;if(e instanceof Array){for(t=0,o=e.length;t<o;t++)if(e[t]instanceof Object){if(me.canPlayMIME(e[t].type)){i=t;break}}else if(me.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url),n=e[i]}else n=e;return n},K=function(e){e._hasTimer||(e._hasTimer=!0,!ze&&me.html5PollingInterval&&(null===Ne&&0===xe&&(Ne=setInterval(G,me.html5PollingInterval)),xe++))},$=function(e){e._hasTimer&&(e._hasTimer=!1,!ze&&me.html5PollingInterval&&xe--)},G=function(){var e;if(null!==Ne&&!xe)return clearInterval(Ne),void(Ne=null);for(e=me.soundIDs.length-1;e>=0;e--)me.sounds[me.soundIDs[e]].isHTML5&&me.sounds[me.soundIDs[e]]._hasTimer&&me.sounds[me.soundIDs[e]]._onTimer()},H=function(o){o=o!==t?o:{},"function"==typeof me.onerror&&me.onerror.apply(e,[{type:o.type!==t?o.type:null}]),o.fatal!==t&&o.fatal&&me.disable()},ue=function(){if(Ze&&le()){var e,t,o=me.audioFormats;for(t in o)if(o.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(me._wD(ye+": Using flash fallback for "+t+" format"),me.html5[t]=!1,o[t]&&o[t].related))for(e=o[t].related.length-1;e>=0;e--)me.html5[o[t].related[e]]=!1}},this._setSandboxType=function(e){var o=me.sandbox;o.type=e,o.description=o.types[o.types[e]!==t?e:"unknown"],"localWithFile"===o.type?(o.noRemote=!0,o.noLocal=!1,f("secNote",2)):"localWithNetwork"===o.type?(o.noRemote=!1,o.noLocal=!0):"localTrusted"===o.type&&(o.noRemote=!1,o.noLocal=!1)},this._externalInterfaceOK=function(e){if(!me.swfLoaded){var t;if(d("swf",!0),d("flashtojs",!0),me.swfLoaded=!0,tt=!1,Ze&&ue(),!e||e.replace(/\+dev/i,"")!==me.versionNumber.replace(/\+dev/i,""))return t=ye+': Fatal: JavaScript file build "'+me.versionNumber+'" does not match Flash SWF build "'+e+'" at '+me.url+". Ensure both are up-to-date.",void setTimeout(function(){throw new Error(t)},0);setTimeout(l,$e?100:1)}},I=function(e,o){if(Te&&Pe)return!1;function n(){var e,t=[],o=[];e="SoundManager "+me.version+(!me.html5Only&&me.useHTML5Audio?me.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),me.html5Only?me.html5PollingInterval&&t.push("html5PollingInterval ("+me.html5PollingInterval+"ms)"):(me.preferFlash&&t.push("preferFlash"),me.useHighPerformance&&t.push("useHighPerformance"),me.flashPollingInterval&&t.push("flashPollingInterval ("+me.flashPollingInterval+"ms)"),me.html5PollingInterval&&t.push("html5PollingInterval ("+me.html5PollingInterval+"ms)"),me.wmode&&t.push("wmode ("+me.wmode+")"),me.debugFlash&&t.push("debugFlash"),me.useFlashBlock&&t.push("flashBlock")),t.length&&(o=o.concat([t.join(" + ")])),me._wD(e+(o.length?" + "+o.join(", "):""),1),fe()}if(me.html5Only)return O(),n(),me.oMC=a(me.movieID),l(),Te=!0,Pe=!0,!1;var i,s,r,u,d,f,c,h,p,m=o||me.url,_=me.altURL||m,g=F(),y=U(),w=De.getElementsByTagName("html")[0];function v(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(i=w&&w.dir&&w.dir.match(/rtl/i),e=e===t?me.id:e,O(),me.url=C(at?m:_),o=me.url,me.wmode=!me.wmode&&me.useHighPerformance?"transparent":me.wmode,null!==me.wmode&&(be.match(/msie 8/i)||!$e&&!me.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Ue.push(M.spcWmode),me.wmode=null),s={name:e,id:e,src:o,quality:"high",allowScriptAccess:me.allowScriptAccess,bgcolor:me.bgColor,pluginspage:st+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:me.wmode,hasPriority:"true"},me.debugFlash&&(s.FlashVars="debug=1"),me.wmode||delete s.wmode,$e)r=De.createElement("div"),d=['<object id="'+e+'" data="'+o+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',v("movie",o),v("AllowScriptAccess",me.allowScriptAccess),v("quality",s.quality),me.wmode?v("wmode",me.wmode):"",v("bgcolor",me.bgColor),v("hasPriority","true"),me.debugFlash?v("FlashVars",s.FlashVars):"","</object>"].join("");else{r=De.createElement("embed");for(u in s)s.hasOwnProperty(u)&&r.setAttribute(u,s[u])}if(E(),y=U(),g=F())if(me.oMC=a(me.movieID)||De.createElement("div"),me.oMC.id)p=me.oMC.className,me.oMC.className=(p?p+" ":B.swfDefault)+(y?" "+y:""),me.oMC.appendChild(r),$e&&((f=me.oMC.appendChild(De.createElement("div"))).className=B.swfBox,f.innerHTML=d),Pe=!0;else{if(me.oMC.id=me.movieID,me.oMC.className=B.swfDefault+" "+y,c=null,f=null,me.useFlashBlock||(me.useHighPerformance?c={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(c={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},i&&(c.left=Math.abs(parseInt(c.left,10))+"px"))),Ge&&(me.oMC.style.zIndex=1e4),!me.debugFlash)for(h in c)c.hasOwnProperty(h)&&(me.oMC.style[h]=c[h]);try{$e||me.oMC.appendChild(r),g.appendChild(me.oMC),$e&&((f=me.oMC.appendChild(De.createElement("div"))).className=B.swfBox,f.innerHTML=d),Pe=!0}catch(e){throw new Error(x("domError")+" \n"+e.toString())}}return Te=!0,n(),!0},L=function(){return me.html5Only?(I(),!1):!ge&&(me.url?((ge=me.getMovie(me.id))||(Ee?($e?me.oMC.innerHTML=Re:me.oMC.appendChild(Ee),Ee=null,Te=!0):I(me.id,me.url),ge=me.getMovie(me.id)),"function"==typeof me.oninitmovie&&setTimeout(me.oninitmovie,1),ce(),!0):(f("noURL"),!1))},w=function(){setTimeout(v,1e3)},b=function(){e.setTimeout(function(){V(we+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),me.setup({preferFlash:!1}).reboot(),me.didFlashBlock=!0,me.beginDelayedInit()},1)},v=function(){var t,o=!1;me.url&&(ke||(ke=!0,ae.remove(e,"load",w),re&&tt&&!et?f("waitFocus"):(Se||(t=me.getMoviePercent())>0&&t<100&&(o=!0),setTimeout(function(){if(t=me.getMoviePercent(),o)return ke=!1,me._wD(x("waitSWF")),void e.setTimeout(w,1);Se||(me._wD(ye+": No Flash response within expected time. Likely causes: "+(0===t?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(me.debugFlash?" "+x("checkSWF"):""),2),!at&&t&&(f("localFail",2),me.debugFlash||f("tryDebug",2)),0===t&&me._wD(x("swf404",me.url),1),d("flashtojs",!1,": Timed out"+(at?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Se&&ot&&(null===t?me.useFlashBlock||0===me.flashLoadTimeout?(me.useFlashBlock&&N(),f("waitForever")):!me.useFlashBlock&&X?b():(f("waitForever"),g({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===me.flashLoadTimeout?f("waitForever"):!me.useFlashBlock&&X?b():k(!0))},me.flashLoadTimeout))))},D=function(){function t(){ae.remove(e,"focus",D)}return et||!tt?(t(),!0):(ot=!0,et=!0,f("gotFocus"),ke=!1,w(),t(),!0)},ce=function(){Ue.length&&(me._wD("SoundManager 2: "+Ue.join(" "),1),Ue=[])},fe=function(){ce();var e,t=[];if(me.useHTML5Audio&&me.hasHTML5){for(e in me.audioFormats)me.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+me.html5[e]+(!me.html5[e]&&Be&&me.flash[e]?" (using flash)":me.preferFlash&&me.flash[e]&&Be?" (preferring flash)":me.html5[e]?"":" ("+(me.audioFormats[e].required?"required, ":"")+"and no flash support)"));me._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},c=function(t){if(Se)return!1;if(me.html5Only)return f("sm2Loaded",1),Se=!0,y(),d("onload",!0),!0;var o,n=!0;return me.useFlashBlock&&me.flashLoadTimeout&&!me.getMoviePercent()||(Se=!0),o={type:!re&&Be?"NO_FLASH":"INIT_TIMEOUT"},me._wD("SoundManager 2 "+(Fe?"failed to load":"loaded")+" ("+(Fe?"Flash security/load error":"OK")+") "+String.fromCharCode(Fe?10006:10003),Fe?2:1),Fe||t?(me.useFlashBlock&&me.oMC&&(me.oMC.className=U()+" "+(null===me.getMoviePercent()?B.swfTimedout:B.swfError)),g({type:"ontimeout",error:o,ignoreInit:!0}),d("onload",!1),H(o),n=!1):d("onload",!0),Fe||(me.waitForWindowLoad&&!Ie?(f("waitOnload"),ae.add(e,"load",y)):(me.waitForWindowLoad&&Ie&&f("docLoaded"),y())),n},r=function(){var e,o=me.setupOptions;for(e in o)o.hasOwnProperty(e)&&(me[e]===t?me[e]=o[e]:me[e]!==o[e]&&(me.setupOptions[e]=me[e]))},l=function(){if(Se)return f("didInit"),!1;function t(){ae.remove(e,"load",me.beginDelayedInit)}if(me.html5Only)return Se||(t(),me.enabled=!0,c()),!0;L();try{ge._externalInterfaceTest(!1),A(!0,me.flashPollingInterval||(me.useHighPerformance?10:50)),me.debugMode||ge._disableDebug(),me.enabled=!0,d("jstoflash",!0),me.html5Only||ae.add(e,"unload",s)}catch(e){return me._wD("js/flash exception: "+e.toString()),d("jstoflash",!1),H({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),k(!0),c(),!1}return c(),t(),!0},T=function(){return!S&&(S=!0,r(),E(),!re&&me.hasHTML5&&(me._wD("SoundManager 2: No Flash detected"+(me.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),me.setup({useHTML5Audio:!0,preferFlash:!1})),ie(),!re&&Be&&(Ue.push(M.needFlash),me.setup({flashLoadTimeout:1})),De.removeEventListener&&De.removeEventListener("DOMContentLoaded",T,!1),L(),!0)},ne=function(){return"complete"===De.readyState&&(T(),De.detachEvent("onreadystatechange",ne)),!0},P=function(){Ie=!0,T(),ae.remove(e,"load",P)},le(),ae.add(e,"focus",D),ae.add(e,"load",w),ae.add(e,"load",P),De.addEventListener?De.addEventListener("DOMContentLoaded",T,!1):De.attachEvent?De.attachEvent("onreadystatechange",ne):(d("onload",!1),H({type:"NO_DOM2_EVENTS",fatal:!0}))}e.SM2_DEFER!==t&&SM2_DEFER||(o=new n),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=n,module.exports.soundManager=o):"function"==typeof define&&define.amd&&define(function(){return{constructor:n,getInstance:function(t){if(!e.soundManager&&t instanceof Function){var o=t(n);o instanceof n&&(e.soundManager=o)}return e.soundManager}}}),e.SoundManager=n,e.soundManager=o}(window);